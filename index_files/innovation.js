(function(){var i,d,h,c,e,j,b,f=function(k,l){return function(){return k.apply(l,arguments)}},g={}.hasOwnProperty,a=function(n,l){for(var k in l){if(g.call(l,k)){n[k]=l[k]}}function m(){this.constructor=n}m.prototype=l.prototype;n.prototype=new m();n.__super__=l.prototype;return n};b=window.parallax=window.parallax||{};b.controllers={};i=(function(k){a(l,k);function l(){this.onWindowScroll=f(this.onWindowScroll,this);this.onWindowResize=f(this.onWindowResize,this);this.triggerScrollEvent=f(this.triggerScrollEvent,this);this.triggerResizeEvent=f(this.triggerResizeEvent,this);l.__super__.constructor.apply(this,arguments);this.scrollTop=0;this.resizeTimeout=null;this.scrollTimeout=null;this.winWidth=this.$window.width();this.winHeight=this.$window.height();this.$window.on("scroll",this.onWindowScroll);this.$window.on("resize",this.onWindowResize)}l.prototype.triggerResizeEvent=function(){this.winWidth=this.$window.width();this.winHeight=this.$window.height();Spine.trigger("viewportresize",this.scrollTop,this.winWidth,this.winHeight)};l.prototype.triggerScrollEvent=function(){this.scrollTop=this.$window.scrollTop();if(this.scrollTop<0){this.scrollTop=0}Spine.trigger("viewportscroll",this.scrollTop,this.winWidth,this.winHeight)};l.prototype.onWindowResize=function(){clearTimeout(this.timeout);this.timeout=setTimeout(this.triggerResizeEvent,1)};l.prototype.onWindowScroll=function(){this.triggerScrollEvent()};return l})(Spine.Controller);e=(function(l){a(k,l);function k(){this.onStickyNavClick=f(this.onStickyNavClick,this);this.onViewportScroll=f(this.onViewportScroll,this);this.onViewportResize=f(this.onViewportResize,this);var m;k.__super__.constructor.apply(this,arguments);m=$(window);this.browserThrottler=new i({$window:m});this.className="ParallaxController";this.dockHeight=$("#sticky-nav").outerHeight(true);this.isDetail=this.el.hasClass("detail");this.panelDictionary={};this.setScrollLength();this.initTimeline();this.initPanels();this.addPanelTimelines();$("a[data-stickytarget], img[data-stickytarget]").on("click",this.onStickyNavClick);Spine.bind("viewportresize",this.onViewportResize);Spine.bind("viewportscroll",this.onViewportScroll)}k.prototype.addPanelTimelines=function(){var n,p,m,o;o=this.panels;for(p=0,m=o.length;p<m;p++){n=o[p];this.timeline.add(n.timeline,0)}};k.prototype.getPanelById=function(m){return this.panels[this.panelDictionary[m]]};k.prototype.initPanels=function(){var v,s,r,n,o,q,m,t,p,u;this.panels=[];t=$(".parallax-panel[data-controller]");for(r=p=0,u=t.length;p<u;r=++p){m=t[r];v=$(m);s=v.attr("data-controller");q={el:v,dockOffset:this.dockHeight,scrollLength:this.scrollLength,winWidth:this.browserThrottler.winWidth,winHeight:this.browserThrottler.winHeight};n=v.attr("id");this.panelDictionary[n]=r;if(b.controllers[s]){o=new b.controllers[s](q)}else{o=new b.controllers.ParallaxPanel(q)}this.panels.push(o)}};k.prototype.initStickyNav=function(){var n,m;if(!this.isDetail){n=(this.isDetail?99:$(".parallax-panel").first().height()-this.dockHeight);m=$("#sticky-nav").css({top:-this.dockHeight,opacity:0});this.timeline.add(TweenLite.to(m,this.dockHeight,{opacity:1,y:this.dockHeight,ease:Linear.easeNone}),n)}};k.prototype.initTimeline=function(){if(this.timeline==null){this.timeline=new TimelineMax({paused:true,useFrames:true})}this.timeline.add(TweenLite.set(this.el,{opacity:1}),this.scrollLength);this.initStickyNav()};k.prototype.setScrollLength=function(){this.scrollLength=$(document).height()-this.browserThrottler.winHeight};k.prototype.updatePanels=function(){var n,p,m,o;this.dockHeight=$("#sticky-nav").outerHeight(true);this.setScrollLength();this.timeline.clear(true);this.initTimeline();o=this.panels;for(p=0,m=o.length;p<m;p++){n=o[p];n.reinitialize(this.dockHeight,this.scrollLength,this.browserThrottler.winWidth,this.browserThrottler.winHeight)}this.addPanelTimelines();Spine.trigger("viewportscroll",this.browserThrottler.scrollTop)};k.prototype.onViewportResize=function(n,m){this.updatePanels()};k.prototype.onViewportScroll=function(m){this.timeline.time(m)};k.prototype.onStickyNavClick=function(n){var p,q,o,m;n.preventDefault();o=$(n.currentTarget).attr("data-stickytarget");q=null;$(".parallax-panel.is-parallax[data-stickytarget]").each(function(s,t){var r;r=$(t);if(r.attr("data-stickytarget").indexOf(o)!==-1){q=$(t).attr("id");return false}});m=this.getPanelById(q);p=m.getScrollPoint();TweenLite.to(window,1.2,{scrollTo:{y:p+4},ease:Quart.easeInOut});$("img[data-stickytarget]").removeClass("hilite");$('img[data-stickytarget="'+o+'"]').addClass("hilite")};return k})(Spine.Controller);j=(function(l){a(k,l);function k(){this.reinitialize=f(this.reinitialize,this);k.__super__.constructor.apply(this,arguments);this.initialPosition=this.el.offset().top;this.timeline=new TimelineMax();this.outerHeight=this.el.outerHeight(true);this.winWidth=this.winWidth||$(window).width();this.winHeight=this.winHeight||$(window).height();this.initializeParallaxVars();this.initializeClone();this.initializeTweens()}k.prototype.initializeClone=function(){this.clone=this.el.clone();this.clone.addClass("is-clone");this.el.addClass("is-parallax");this.el.after(this.clone)};k.prototype.doParallaxTween=function(){this.timeline.add(TweenLite.to(this.el.find(".background-container"),this.distToClearDockTop,{y:this.distToClearDockTop*0.2,ease:Linear.easeNone}),this.evenWithDockBottom)};k.prototype.doOverlayEntranceTween=function(){this.overlaySubject=this.el.find(".overlay")};k.prototype.getScrollPoint=function(){var m;m=this.el.css("display")==="none"?this.clone.offset().top:this.initialPosition;return m-this.dockOffset};k.prototype.initializeTweens=function(){this.doParallaxTween();this.doOverlayEntranceTween()};k.prototype.initializeParallaxVars=function(){this.evenWithDockBottom=this.initialPosition-this.dockOffset;this.aboveDockBottom=this.evenWithDockBottom+this.outerHeight;this.evenWithViewportBottom=this.initialPosition-this.winHeight;if(this.initialPosition<this.winHeight){this.evenWithViewportBottom=0}this.distToClearDockTop=this.aboveDockBottom-this.evenWithDockBottom;this.distFromWindowBottomToDock=this.evenWithDockBottom-this.evenWithViewportBottom;if(this.initialPosition<this.winHeight){this.distFromWindowBottomToDock=this.evenWithDockBottom}if(this.distFromWindowBottomToDock>this.winHeight-this.dockOffset){this.distFromWindowBottomToDock=this.winHeight-this.dockOffset}};k.prototype.reinitialize=function(p,m,o,n){this.timeline.progress(0);this.timeline.clear();this.dockOffset=p;this.scrollLength=m;this.winWidth=o;this.winHeight=n;this.outerHeight=this.el.outerHeight(true);this.initialPosition=this.el.offset().top;this.initializeParallaxVars();this.initializeTweens()};return k})(Spine.Controller);c=(function(k){a(l,k);function l(){l.__super__.constructor.apply(this,arguments)}l.prototype.doOverlayEntranceTween=function(){l.__super__.doOverlayEntranceTween.apply(this,arguments);this.overlaySubject.css({left:-this.overlaySubject.width()});return this.timeline.add(TweenLite.to(this.overlaySubject,this.distFromWindowBottomToDock,{left:0,ease:"Linear.easeNone"}),this.evenWithViewportBottom)};return l})(j);d=(function(k){a(l,k);function l(){l.__super__.constructor.apply(this,arguments)}return l})(j);b.controllers.ParallaxController=e;b.controllers.ParallaxPanel=j;b.controllers.OverlayPanelController=c;b.controllers.LastParallaxPanel=d;h=(function(l){a(k,l);function k(){this.onTouchMove=f(this.onTouchMove,this);this.onStickyNavClick=f(this.onStickyNavClick,this);this.onViewportScroll=f(this.onViewportScroll,this);var m;k.__super__.constructor.apply(this,arguments);this.isDetail=$("#parallax-main").hasClass("detail");this.sticky=$("#sticky-nav");if(this.isDetail===true){this.wrapper=$('<div class="sticky-wrapper"></div>').height(this.sticky.outerHeight(true));this.sticky.wrap(this.wrapper)}else{this.sticky=this.sticky.css({top:-this.sticky.outerHeight(true),opacity:0})}m=$(window);m.on("touchmove",this.onTouchMove);this.st=new i({$window:m});$("a[data-stickytarget], img[data-stickytarget]").on("click",this.onStickyNavClick);Spine.bind("viewportscroll",this.onViewportScroll)}k.prototype.checkSticky=function(n){var m,o;if(this.isDetail){if(n>this.wrapper.offset().top+this.wrapper.height()){this.sticky.css({position:"fixed",top:0,left:0})}else{this.sticky.css({position:"relative"})}}else{if(n>this.sticky.outerHeight(true)){o=0;m=1}else{o=-this.sticky.outerHeight(true);m=0}TweenLite.to(this.sticky,0.2,{opacity:m,top:o,ease:Linear.easeNone})}};k.prototype.onViewportScroll=function(m){this.checkSticky(m)};k.prototype.onStickyNavClick=function(n){var o,m;n.preventDefault();o=$(n.currentTarget).attr("data-stickytarget");m=null;$(".parallax-panel[data-stickytarget]").each(function(q,r){var p;p=$(r);if(p.attr("data-stickytarget").indexOf(o)!==-1){m=p;return false}});TweenLite.to(window,1.2,{scrollTo:{y:m.offset().top-this.sticky.height()},ease:Quart.easeInOut});$("img[data-stickytarget]").removeClass("hilite");$('img[data-stickytarget="'+o+'"]').addClass("hilite")};k.prototype.onTouchMove=function(m){if(this.isDetail){this.sticky.css({position:"relative"})}};return k})(Spine.Controller);$(function(){var q,k,o,m,n,p,l;k=false;o=["iphone","ipad","android","mobile"];n=navigator.userAgent.toLowerCase();for(p=0,l=o.length;p<l;p++){m=o[p];if(n.indexOf(m)!==-1){k=true}}if(k===true){$(".parallax-panel").addClass("is-mobile");if(n.indexOf("ipad")!==-1){$(window).on("load",function(){var r;r=new h()})}}else{q=$(window).on("load",function(){var r;r=new e({el:$("#parallax-main")})})}})}).call(this);(function(){var b,e,d,a={}.hasOwnProperty,c=function(i,g){for(var f in g){if(a.call(g,f)){i[f]=g[f]}}function h(){this.constructor=i}h.prototype=g.prototype;i.prototype=new h();i.__super__=g.prototype;return i};d=window.parallax.controllers.ParallaxPanel;e=(function(f){c(g,f);function g(){g.__super__.constructor.apply(this,arguments)}g.prototype.doParallaxTween=function(){var h;g.__super__.doParallaxTween.apply(this,arguments);this.timeline.add(TweenLite.to(this.el.find("h1"),this.distToClearDockTop,{opacity:0,letterSpacing:110,marginTop:this.distToClearDockTop*0.3}),this.evenWithDockBottom);this.timeline.add(TweenLite.to(this.el.find("p"),this.distToClearDockTop*0.5,{fontSize:0,opacity:0}),this.evenWithDockBottom);h=this.el.find(".logo-grid").css({top:350});this.timeline.add(TweenLite.to(this.el.find(".logo-container img"),this.distToClearDockTop,{marginBottom:2,marginTop:2,ease:"Linear.easeNone"}),this.evenWithDockBottom);this.timeline.add(TweenLite.to(this.el.find(".logo-container")[0],this.distToClearDockTop,{paddingBottom:2,ease:"Linear.easeNone"}),this.evenWithDockBottom);this.timeline.add(TweenLite.to(h,this.distToClearDockTop,{y:130,ease:"Linear.easeNone"}),this.evenWithDockBottom);return this.timeline.add(TweenLite.to(h,this.distToClearDockTop,{autoAlpha:0,ease:"Linear.easeNone"}),526)};return g})(d);b=(function(g){c(f,g);function f(){f.__super__.constructor.apply(this,arguments)}f.prototype.doParallaxTween=function(){f.__super__.doParallaxTween.apply(this,arguments);this.timeline.add(TweenLite.to(this.el.find(".i-will-img-container"),this.distToClearDockTop,{top:"25%",ease:"Quad.easeOut"}),this.evenWithDockBottom-this.distToClearDockTop);this.timeline.add(TweenLite.to(this.el.find("#i-will-img"),this.distToClearDockTop,{width:350,ease:"Quad.easeOut"}),this.evenWithDockBottom-this.distToClearDockTop);return this.timeline.add(TweenLite.to(this.el.find("#our-job"),this.distToClearDockTop*0.75,{autoAlpha:1,ease:"Quad.easeOut"}),this.evenWithDockBottom-this.distToClearDockTop)};return f})(d);parallax.controllers.LandingHeroPanel=e;parallax.controllers.IWillPanelController=b}).call(this);(function(){var b,e,i,d,h,a,g={}.hasOwnProperty,c=function(m,k){for(var j in k){if(g.call(k,j)){m[j]=k[j]}}function l(){this.constructor=m}l.prototype=k.prototype;m.prototype=new l();m.__super__=k.prototype;return m},f=function(j,k){return function(){return j.apply(k,arguments)}};a=window.parallax.main;i=window.parallax.controllers.ParallaxPanel;e=window.parallax.controllers.LastParallaxPanel;b=(function(k){c(j,k);function j(){j.__super__.constructor.apply(this,arguments)}j.prototype.doParallaxTween=function(){var o,n,m,l;j.__super__.doParallaxTween.apply(this,arguments);m=this.el.find(".overlay.primary-panel");n=m.children(".panel-logo");o=this.el.find(".primary-copy.hidden-mobile");l=m.children(".sub-logo");this.timeline.add(TweenLite.to(n,this.distToClearDockTop,{y:600,ease:"Linear.easeNone"}),this.evenWithDockBottom);this.timeline.add(TweenMax.allTo(o,this.distToClearDockTop*0.7,{opacity:0,ease:"Linear.easeNone"}),this.evenWithDockBottom);return this.timeline.add(TweenMax.allTo(l,this.distToClearDockTop*0.7,{opacity:0,ease:"Linear.easeNone"}),this.evenWithDockBottom)};return j})(i);h=(function(k){c(j,k);function j(){this.onViewportScroll=f(this.onViewportScroll,this);j.__super__.constructor.apply(this,arguments);Spine.bind("viewportscroll",this.onViewportScroll)}j.prototype.doParallaxTween=function(){var n,m,l;j.__super__.doParallaxTween.apply(this,arguments);this.logoParent=this.el.find(".overlay.secondary-panel");this.logo=this.logoParent.children(".panel-logo").css({transform:"translate(0px, -999px)"});this.logo_diff=this.logoParent.position().top;this.other_logo=this.el.siblings('[id="headerPanel"]').not(".is-clone").find(".overlay.primary-panel .panel-logo");n=this.el.find(".background-overlay").css({opacity:0});m=this.logoParent.find(".secondary-copy.hidden-mobile").css({opacity:0});l=this.logoParent.find(".sub-logo").css({opacity:0});this.timeline.add(TweenLite.to(n,150,{opacity:1,ease:"Linear.easeNone"}),this.evenWithDockBottom-150);this.timeline.add(TweenLite.to(m,400,{opacity:1}),this.evenWithDockBottom-400);return this.timeline.add(TweenLite.to(l,400,{opacity:1}),this.evenWithDockBottom-400)};j.prototype.getElementTopY=function(l,m){return l.offset().top-m};j.prototype.onViewportScroll=function(n){var m,l;l=this.getElementTopY(this.other_logo,n);m=l-this.getElementTopY(this.el,n)-this.logo_diff;if(m>0||this.timeline.time()>=this.evenWithDockBottom){m=0}this.logo.css({transform:"translate(0px, "+Math.round(m)+"px)"})};return j})(i);d=(function(k){c(j,k);function j(){this.onViewportScroll=f(this.onViewportScroll,this);j.__super__.constructor.apply(this,arguments);Spine.bind("viewportscroll",this.onViewportScroll)}j.prototype.doParallaxTween=function(){var n,m,l;j.__super__.doParallaxTween.apply(this,arguments);this.logoParent=this.el.find(".overlay.secondary-panel");this.logo=this.logoParent.children(".panel-logo").css({transform:"translate(0px, -999px)"});this.logo_diff=this.logoParent.position().top;this.other_logo=this.el.siblings('[id="headerPanel"]').not(".is-clone").find(".overlay.primary-panel .panel-logo");n=this.el.find(".background-overlay").css({opacity:0});m=this.logoParent.find(".secondary-copy.hidden-mobile").css({opacity:0});l=this.logoParent.find(".sub-logo").css({opacity:0});this.timeline.add(TweenLite.to(n,150,{opacity:1,ease:"Linear.easeNone"}),this.evenWithDockBottom-150);this.timeline.add(TweenLite.to(m,400,{opacity:1}),this.evenWithDockBottom-400);return this.timeline.add(TweenLite.to(l,400,{opacity:1}),this.evenWithDockBottom-400)};j.prototype.getElementTopY=function(l,m){return l.offset().top-m};j.prototype.onViewportScroll=function(n){var m,l;l=this.getElementTopY(this.other_logo,n);m=l-this.getElementTopY(this.el,n)-this.logo_diff;if(m>0||this.timeline.time()>=this.evenWithDockBottom){m=0}this.logo.css({transform:"translate(0px, "+Math.round(m)+"px)"})};return j})(e);parallax.controllers.HeaderHeroPanelController=b;parallax.controllers.SecondaryHeroPanelController=h;parallax.controllers.SecondaryHeroLastPanelController=d}).call(this);